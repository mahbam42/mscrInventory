<!-- templates/recipes/edit_modifier_extra_modal.html -->
<form hx-post="{% url 'edit_modifier_extra' modifier.id %}" hx-target="closest .modal" hx-swap="none">
  <div class="mb-3">
    <label for="affects_type" class="form-label">Affects Modifier Type</label>
    <select name="affects_type" class="form-select">
      <option value="">— None —</option>
      {% for code, label in modifier.MODIFIER_TYPES %}
      <option value="{{ code }}" {% if modifier.affects_type == code %}selected{% endif %}>{{ label }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">Expands To (Optional)</label>
    <select name="expands_to" class="form-select" multiple>
      {% for m in all_modifiers %}
      <option value="{{ m.id }}" {% if m in modifier.expands_to.all %}selected{% endif %}>{{ m.name }} ({{ m.get_type_display }})</option>
      {% endfor %}
    </select>
    <div class="form-text">For combos like Dirty Chai</div>
  </div>

  <div class="d-flex justify-content-end">
    <button type="submit" class="btn btn-primary">Save</button>
  </div>
</form>
