
{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-4">
  <h1>Data Imports</h1>

  {% if messages %}
  <div class="mt-3">
    {% for message in messages %}
      <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %}

  <div class="row mt-4">
    <div class="col-md-6">
      <h3>üì§ Upload Square CSV</h3>
      <form method="post" enctype="multipart/form-data" action="{% url 'upload_square_csv' %}">
        {% csrf_token %}
        <div class="mb-3">
          <input type="file" name="square_csv" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary">Upload & Import</button>
      </form>
    </div>

    <div class="col-md-6">
      <h3>üõç Fetch Shopify Orders</h3>
      <form method="post" action="{% url 'fetch_shopify_orders' %}">
        {% csrf_token %}
        <div class="row g-2">
          <div class="col-md-6">
            <label for="start_date" class="form-label">Start Date</label>
            <input type="date" id="start_date" name="start_date" class="form-control" required>
          </div>
          <div class="col-md-6">
            <label for="end_date" class="form-label">End Date (optional)</label>
            <input type="date" id="end_date" name="end_date" class="form-control">
          </div>
        </div>
        <button type="submit" class="btn btn-success mt-3">Fetch Shopify</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}

