{% extends "base.html" %}
{% block title %}Unmapped Square Items{% endblock %}

{% block content %}
<div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-4">
  <div>
    <h1 class="h3 mb-1">Unmapped Square Items</h1>
    <p class="text-muted mb-0">Resolve outstanding imports, create new records, or mark items as ignored.</p>
  </div>
  <button
    class="btn btn-outline-primary mt-3 mt-md-0"
    hx-get="{% url 'imports_unmapped_items' %}"
    hx-target="#modal-body"
    hx-trigger="click"
  >
    Open in Modal
  </button>
</div>

<form class="row g-3 align-items-end mb-4" method="post" action="{% url 'imports_unmapped_bulk' %}">
  {% csrf_token %}
  <input type="hidden" name="filter_type" value="{{ filter_type }}">
  <div class="col-sm-4 col-md-3">
    <label for="bulk-action" class="form-label">Bulk Action</label>
    <select id="bulk-action" name="action" class="form-select" required>
      <option value="" selected disabled>Chooseâ€¦</option>
      <option value="resolve">Resolve All</option>
      <option value="create">Create Missing</option>
      <option value="ignore">Ignore All</option>
    </select>
    <div class="form-text">&nbsp;</div>
  </div>
  <div class="col-sm-4 col-md-3">
    <label class="form-label">Apply To</label>
    <input type="text" class="form-control" value="{{ filter_type|title }}" disabled>
    <div class="form-text">Change filters below to narrow the selection.</div>
  </div>
  <div class="col-sm-4 col-md-3">
    <button type="submit" class="btn btn-primary w-100">Run Bulk Action</button>
    <div class="form-text">&nbsp;</div>
  </div>
</form>

{% include "imports/_unmapped_body.html" %}
{% endblock %}
